CodeMirror.defineMode("javascript",function(n,t){function lt(n,t,i){return t.tokenize=i,i(n,t)}function at(n,t){for(var i=!1,r;(r=n.next())!=null;){if(r==t&&!i)return!1;i=!i&&r=="\\"}return i}function h(n,t,i){return y=n,p=i,t}function w(n,t){var i=n.next(),r,u;return i=='"'||i=="'"?lt(n,t,ni(i)):/[\[\]{}\(\),;\:\.]/.test(i)?h(i):i=="0"&&n.eat(/x/i)?(n.eatWhile(/[\da-f]/i),h("number","number")):/\d/.test(i)||i=="-"&&n.eat(/\d/)?(n.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),h("number","number")):i=="/"?n.eat("*")?lt(n,t,it):n.eat("/")?(n.skipToEnd(),h("comment","comment")):t.lastType=="operator"||t.lastType=="keyword c"||/^[\[{}\(,;:]$/.test(t.lastType)?(at(n,"/"),n.eatWhile(/[gimy]/),h("regexp","string-2")):(n.eatWhile(tt),h("operator",null,n.current())):i=="#"?(n.skipToEnd(),h("error","error")):tt.test(i)?(n.eatWhile(tt),h("operator",null,n.current())):(n.eatWhile(/[\w\$_]/),r=n.current(),u=ct.propertyIsEnumerable(r)&&ct[r],u&&t.lastType!="."?h(u.type,u.style,r):h("variable","variable",r))}function ni(n){return function(t,i){return at(t,n)||(i.tokenize=w),h("string","string")}}function it(n,t){for(var r=!1,i;i=n.next();){if(i=="/"&&r){t.tokenize=w;break}r=i=="*"}return h("comment","comment")}function rt(n,t,i,r,u,f){this.indented=n,this.column=t,this.type=i,this.prev=u,this.info=f,r!=null&&(this.align=r)}function ti(n,t){for(var i=n.localVars;i;i=i.next)if(i.name==t)return!0}function ii(n,t,i,u,e){var o=n.cc,s;for(r.state=n,r.stream=e,r.marked=null,r.cc=o,n.lexical.hasOwnProperty("align")||(n.lexical.align=!0);;)if(s=o.length?o.pop():v?f:c,s(i,u)){while(o.length&&o[o.length-1].lex)o.pop()();return r.marked?r.marked:i=="variable"&&ti(n,u)?"variable-2":t}}function s(){for(var n=arguments.length-1;n>=0;n--)r.cc.push(arguments[n])}function i(){return s.apply(null,arguments),!0}function ut(n){function i(t){for(var i=t;i;i=i.next)if(i.name==n)return!0;return!1}var t=r.state;if(t.context){if(r.marked="def",i(t.localVars))return;t.localVars={name:n,next:t.localVars}}else{if(i(t.globalVars))return;t.globalVars={name:n,next:t.globalVars}}}function yt(){r.state.context={prev:r.state.context,vars:r.state.localVars},r.state.localVars=ri}function pt(){r.state.localVars=r.state.context.vars,r.state.context=r.state.context.prev}function o(n,t){var i=function(){var i=r.state,u=i.indented;i.lexical.type=="stat"&&(u=i.lexical.indented),i.lexical=new rt(u,r.stream.column(),n,null,i.lexical,t)};return i.lex=!0,i}function u(){var n=r.state;n.lexical.prev&&(n.lexical.type==")"&&(n.indented=n.lexical.indented),n.lexical=n.lexical.prev)}function e(n){return function(t){return t==n?i():n==";"?s():i(arguments.callee)}}function c(n){return n=="var"?i(o("vardef"),ot,e(";"),u):n=="keyword a"?i(o("form"),f,c,u):n=="keyword b"?i(o("form"),c,u):n=="{"?i(o("}"),et,u):n==";"?i():n=="if"?i(o("form"),f,c,u,ci(r.state.indented)):n=="function"?i(g):n=="for"?i(o("form"),e("("),o(")"),li,e(")"),u,c,u):n=="variable"?i(o("stat"),fi):n=="switch"?i(o("form"),f,o("}","switch"),e("{"),et,u,u):n=="case"?i(f,e(":")):n=="default"?i(e(":")):n=="catch"?i(o("form"),yt,e("("),gt,e(")"),c,u,pt):s(o("stat"),f,e(";"),u)}function f(n){return wt(n,!1)}function a(n){return wt(n,!0)}function wt(n,t){var r=t?ft:b;return vt.hasOwnProperty(n)?i(r):n=="function"?i(g):n=="keyword c"?i(t?ui:bt):n=="("?i(o(")"),bt,e(")"),u,r):n=="operator"?i(t?a:f):n=="["?i(o("]"),k(a,"]"),u,r):n=="{"?i(o("}"),k(oi,"}"),u,r):i()}function bt(n){return n.match(/[;\}\)\],]/)?s():s(f)}function ui(n){return n.match(/[;\}\)\],]/)?s():s(a)}function b(n,t){return n==","?i(f):ft(n,t,b)}function ft(n,t,r){return(r||(r=ft),n=="operator")?/\+\+|--/.test(t)?i(r):t=="?"?i(f,e(":"),f):i(f):n==";"?void 0:n=="("?i(o(")","call"),k(a,")"),u,r):n=="."?i(ei,r):n=="["?i(o("]"),f,e("]"),u,r):void 0}function fi(n){return n==":"?i(u,c):s(b,e(";"),u)}function ei(n){if(n=="variable")return r.marked="property",i()}function oi(n,t){if(n=="variable"){if(r.marked="property",t=="get"||t=="set")return i(si)}else(n=="number"||n=="string")&&(r.marked=n+" property");if(vt.hasOwnProperty(n))return i(e(":"),a)}function si(n){return n==":"?i(f):n!="variable"?i(e(":"),f):(r.marked="property",i(g))}function k(n,t){function u(f){if(f==","){var o=r.state.lexical;return o.info=="call"&&(o.pos=(o.pos||0)+1),i(n,u)}return f==t?i():i(e(t))}return function(r){return r==t?i():s(n,u)}}function et(n){return n=="}"?i():s(c,et)}function kt(n){return n==":"?i(hi):s()}function hi(n){return n=="variable"?(r.marked="variable-3",i()):s()}function ot(n,t){return n=="variable"?(ut(t),nt?i(kt,st):i(st)):s()}function st(n,t){return t=="="?i(a,st):n==","?i(ot):void 0}function ci(n){return function(t,f){return t=="keyword b"&&f=="else"?(r.state.lexical=new rt(n,0,"form",null,r.state.lexical),i(c,u)):s()}}function li(n){return n=="var"?i(ot,e(";"),d):n==";"?i(d):n=="variable"?i(ai):s(f,e(";"),d)}function ai(n,t){return t=="in"?i(f):i(b,d)}function d(n,t){return n==";"?i(dt):t=="in"?i(f):s(f,e(";"),dt)}function dt(n){n!=")"&&i(f)}function g(n,t){return n=="variable"?(ut(t),i(g)):n=="("?i(o(")"),yt,k(gt,")"),u,c,pt):void 0}function gt(n,t){if(n=="variable")return ut(t),nt?i(kt):i()}var l=n.indentUnit,ht=t.statementIndent,v=t.json,nt=t.typescript,ct=function(){function n(n){return{type:n,style:"keyword"}}var s=n("keyword a"),u=n("keyword b"),t=n("keyword c"),f=n("operator"),i={type:"atom",style:"atom"},h={"if":n("if"),"while":s,"with":s,"else":u,"do":u,"try":u,"finally":u,"return":t,"break":t,"continue":t,"new":t,"delete":t,"throw":t,"var":n("var"),"const":n("var"),let:n("var"),"function":n("function"),"catch":n("catch"),"for":n("for"),"switch":n("switch"),"case":n("case"),"default":n("default"),"in":f,"typeof":f,"instanceof":f,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i,"this":n("this")},r,e,o;if(nt){r={type:"variable",style:"variable-3"},e={interface:n("interface"),"class":n("class"),"extends":n("extends"),constructor:n("constructor"),public:n("public"),private:n("private"),protected:n("protected"),static:n("static"),"super":n("super"),string:r,number:r,bool:r,any:r};for(o in e)h[o]=e[o]}return h}(),tt=/[+\-*&%=<>!?|~^]/,y,p,vt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},r={state:null,column:null,marked:null,cc:null},ri={name:"this",next:{name:"arguments"}};return u.lex=!0,{startState:function(n){return{tokenize:w,lastType:null,cc:[],lexical:new rt((n||0)-l,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(n,t){if(n.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=n.indentation()),t.tokenize!=it&&n.eatSpace())return null;var i=t.tokenize(n,t);return y=="comment"?i:(t.lastType=y=="operator"&&(p=="++"||p=="--")?"incdec":y,ii(t,i,y,p,n))},indent:function(n,i){var f,r,u,e;return n.tokenize==it?CodeMirror.Pass:n.tokenize!=w?0:(f=i&&i.charAt(0),r=n.lexical,r.type=="stat"&&f=="}"&&(r=r.prev),ht&&r.type==")"&&r.prev.type=="stat"&&(r=r.prev),u=r.type,e=f==u,u=="vardef"?r.indented+(n.lastType=="operator"||n.lastType==","?4:0):u=="form"&&f=="{"?r.indented:u=="form"?r.indented+l:u=="stat"?r.indented+(n.lastType=="operator"||n.lastType==","?ht||l:0):r.info!="switch"||e||t.doubleIndentSwitch==!1?r.align?r.column+(e?0:1):r.indented+(e?0:l):r.indented+(/^(?:case|default)\b/.test(i)?l:2*l))},electricChars:":{}",blockCommentStart:v?null:"/*",blockCommentEnd:v?null:"*/",lineComment:v?null:"//",jsonMode:v}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});